import{r as h,u as f,j as e,B as b,C as o}from"./index-43d0fa9b.js";import{c as C,a as j,F as g}from"./index.esm-4e84dfba.js";import{c as F}from"./index-d5840571.js";import{R as w,C as N}from"./Row-fefb1cc1.js";import{A as p}from"./Alert-294d6ed2.js";import{F as a}from"./Form-ec4a912c.js";import"./CloseButton-102e4345.js";const R=()=>{const[d,l]=h.useState(""),[c,m]=h.useState(""),u=f(),A=async(t,{setSubmitting:r})=>{m(""),l("");try{const{name:n,bio:s}=t,i=Date.now();await F.addArtist(i,n,s),l("Artist successfully added!")}catch{m("Failed to add artist. Please try again.")}finally{r(!1)}},v=C().shape({name:j().required("Name is required"),bio:j().required("Bio is required")}),y=()=>{u("/admin/ViewArtists")};return e.jsx(w,{children:e.jsxs(N,{sm:12,children:[e.jsx(b,{variant:"primary",onClick:y,className:"mb-3",children:"View Artists"}),e.jsxs(o,{children:[e.jsx(o.Header,{children:e.jsx(o.Title,{as:"h5",children:"Add Artist"})}),e.jsxs(o.Body,{children:[d&&e.jsx(p,{variant:"success",children:d}),c&&e.jsx(p,{variant:"danger",children:c}),e.jsx(g,{initialValues:{name:"",bio:""},validationSchema:v,onSubmit:A,children:({values:t,handleChange:r,handleSubmit:n,errors:s,touched:i,isSubmitting:x})=>e.jsxs(a,{onSubmit:n,children:[e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Name"}),e.jsx(a.Control,{type:"text",name:"name",placeholder:"Enter name",value:t.name,onChange:r,isInvalid:!!i.name&&!!s.name}),i.name&&s.name&&e.jsx(a.Control.Feedback,{type:"invalid",children:s.name})]}),e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Bio"}),e.jsx(a.Control,{as:"textarea",name:"bio",placeholder:"Enter bio",value:t.bio,onChange:r,isInvalid:!!i.bio&&!!s.bio}),i.bio&&s.bio&&e.jsx(a.Control.Feedback,{type:"invalid",children:s.bio})]}),e.jsx(b,{variant:"primary",type:"submit",disabled:x,children:x?"Adding...":"Add Artist"})]})})]})]})]})})};export{R as default};
