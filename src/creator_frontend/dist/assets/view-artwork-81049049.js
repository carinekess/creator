import{r as a,u as j,j as e,R as m,B as i,C as s}from"./index-43d0fa9b.js";import{c}from"./index-d5840571.js";import{R as w,C as k}from"./Row-fefb1cc1.js";import{T as A}from"./Table-ed804b5b.js";const C=()=>{const[d,l]=a.useState([]),n=j();a.useEffect(()=>{(async()=>{try{const r=await c.getArtworks();console.log("Artwork List:",r),l(r)}catch(r){console.error("Failed to fetch artworks:",r)}})()},[]);const o=()=>{n("/admin/AddArtwork")},h=t=>{n(`/admin/artwork-payments/${t}`)},x=async t=>{window.confirm("Are you sure you want to delete this artwork?")&&(await c.deleteArtwork(t)?(alert("Artwork deleted successfully!"),await fetchArtworks()):alert("Failed to delete the artwork. It may not exist."))};return e.jsx(m.Fragment,{children:e.jsx(w,{children:e.jsxs(k,{children:[e.jsx(i,{variant:"primary",onClick:o,className:"mb-3",children:"Add Artwork"}),e.jsxs(s,{children:[e.jsxs(s.Header,{children:[e.jsx(s.Title,{as:"h5",children:"Artworks"}),e.jsx("span",{className:"d-block m-t-5",children:"List of all artworks and their details."})]}),e.jsx(s.Body,{children:e.jsxs(A,{responsive:!0,hover:!0,striped:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Artwork ID"}),e.jsx("th",{children:"Image"})," ",e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Price"}),e.jsx("th",{children:"Artist ID"}),e.jsx("th",{children:"Date Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.length>0?d.map((t,r)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:r+1}),e.jsx("td",{children:t.artwork_id}),e.jsx("td",{children:e.jsx("img",{src:t.image_url,alt:t.title,style:{width:"100px",height:"auto"}})}),e.jsx("td",{children:t.title}),e.jsx("td",{children:t.description}),e.jsx("td",{children:t.price}),e.jsx("td",{children:t.artist_id}),e.jsx("td",{children:t.date_created}),e.jsxs("td",{children:[e.jsx(i,{variant:"info",onClick:()=>h(t.artwork_id),children:"View Payment Details"}),e.jsx(i,{variant:"danger",onClick:()=>x(t.artwork_id),className:"ml-2",children:"Delete"})]})]},t.artwork_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"text-center",children:"No artworks found"})})})]})})]})]})})})};export{C as default};
